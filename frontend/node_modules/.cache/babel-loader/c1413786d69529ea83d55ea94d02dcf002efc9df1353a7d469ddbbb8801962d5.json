{"ast":null,"code":"var _jsxFileName = \"/home/damien/Desktop/Treasury Movement Simulator/frontend/src/components/TransferForm.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport CurrencyIcon from './CurrencyIcon';\nimport { ButtonSpinner } from './LoadingSpinner';\nimport ErrorMessage from './ErrorMessage';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst TransferForm = ({\n  accounts,\n  onSubmit,\n  loading = false,\n  error = null,\n  initialFromAccount = null,\n  onCancel\n}) => {\n  _s();\n  const [formData, setFormData] = useState({\n    from_account: '',\n    to_account: '',\n    amount: 0,\n    note: ''\n  });\n  const [exchangeRate, setExchangeRate] = useState(null);\n  const [convertedAmount, setConvertedAmount] = useState(null);\n  const [validationErrors, setValidationErrors] = useState({});\n  const [transferDate, setTransferDate] = useState(() => {\n    const today = new Date();\n    return today.toISOString().slice(0, 10);\n  });\n  const [isFutureTransfer, setIsFutureTransfer] = useState(false);\n\n  // Set initial from account if provided\n  useEffect(() => {\n    if (initialFromAccount) {\n      setFormData(prev => ({\n        ...prev,\n        from_account: initialFromAccount.name\n      }));\n    }\n  }, [initialFromAccount]);\n\n  // Check if transfer is scheduled for future\n  useEffect(() => {\n    const today = new Date().toISOString().slice(0, 10);\n    setIsFutureTransfer(transferDate > today);\n  }, [transferDate]);\n\n  // Calculate exchange rate and converted amount when accounts change\n  useEffect(() => {\n    if (formData.from_account && formData.to_account && formData.amount > 0) {\n      const fromAccount = accounts.find(acc => acc.name === formData.from_account);\n      const toAccount = accounts.find(acc => acc.name === formData.to_account);\n      if (fromAccount && toAccount && fromAccount.currency !== toAccount.currency) {\n        var _rates$fromAccount$cu;\n        // Static exchange rates (in real app, these would come from API)\n        const rates = {\n          KES: {\n            USD: 0.0067,\n            NGN: 0.186\n          },\n          USD: {\n            KES: 149.25,\n            NGN: 27.75\n          },\n          NGN: {\n            KES: 5.38,\n            USD: 0.036\n          }\n        };\n        const rate = (_rates$fromAccount$cu = rates[fromAccount.currency]) === null || _rates$fromAccount$cu === void 0 ? void 0 : _rates$fromAccount$cu[toAccount.currency];\n        if (rate) {\n          setExchangeRate(rate);\n          setConvertedAmount(formData.amount * rate);\n        } else {\n          setExchangeRate(null);\n          setConvertedAmount(null);\n        }\n      } else {\n        setExchangeRate(null);\n        setConvertedAmount(null);\n      }\n    }\n  }, [formData.from_account, formData.to_account, formData.amount, accounts]);\n\n  // Real-time validation\n  useEffect(() => {\n    const errors = {};\n    if (formData.from_account && formData.to_account && formData.from_account === formData.to_account) {\n      errors.to_account = 'Source and destination accounts must be different';\n    }\n    if (formData.amount > 0) {\n      const fromAccount = accounts.find(acc => acc.name === formData.from_account);\n      if (fromAccount && formData.amount > fromAccount.balance) {\n        errors.amount = `Insufficient balance. Available: ${fromAccount.formatted_balance}`;\n      }\n    }\n    setValidationErrors(prev => ({\n      ...prev,\n      ...errors\n    }));\n  }, [formData, accounts]);\n  const validateForm = () => {\n    const errors = {};\n    if (!formData.from_account) {\n      errors.from_account = 'Please select a source account';\n    }\n    if (!formData.to_account) {\n      errors.to_account = 'Please select a destination account';\n    }\n    if (formData.from_account === formData.to_account) {\n      errors.to_account = 'Source and destination accounts must be different';\n    }\n    if (!formData.amount || formData.amount <= 0) {\n      errors.amount = 'Please enter a valid amount';\n    } else {\n      const fromAccount = accounts.find(acc => acc.name === formData.from_account);\n      if (fromAccount && formData.amount > fromAccount.balance) {\n        errors.amount = `Insufficient balance. Available: ${fromAccount.formatted_balance}`;\n      }\n    }\n    setValidationErrors(errors);\n    return Object.keys(errors).length === 0;\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    if (validateForm()) {\n      let noteWithDate = formData.note || '';\n      if (!noteWithDate.includes('transfer_date:')) {\n        noteWithDate = (noteWithDate ? noteWithDate + ' ' : '') + `transfer_date:${transferDate}`;\n      }\n      await onSubmit({\n        ...formData,\n        note: noteWithDate\n      });\n    }\n  };\n  const handleInputChange = (field, value) => {\n    setFormData(prev => ({\n      ...prev,\n      [field]: value\n    }));\n    // Clear validation error for this field\n    if (validationErrors[field]) {\n      setValidationErrors(prev => ({\n        ...prev,\n        [field]: ''\n      }));\n    }\n  };\n  const getAccountOptions = excludeAccount => {\n    return accounts.filter(account => account.name !== excludeAccount).map(account => /*#__PURE__*/_jsxDEV(\"option\", {\n      value: account.name,\n      children: [account.name, \" (\", account.currency, \") - \", account.formatted_balance]\n    }, account.name, true, {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 9\n    }, this));\n  };\n  const fromAccount = accounts.find(acc => acc.name === formData.from_account);\n  const toAccount = accounts.find(acc => acc.name === formData.to_account);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"max-w-lg mx-auto mt-8\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white/90 rounded-2xl shadow-lg p-8\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center mb-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n          className: \"w-8 h-8 text-kcb-primary mr-3\",\n          fill: \"none\",\n          stroke: \"currentColor\",\n          viewBox: \"0 0 24 24\",\n          children: /*#__PURE__*/_jsxDEV(\"path\", {\n            strokeLinecap: \"round\",\n            strokeLinejoin: \"round\",\n            strokeWidth: 2,\n            d: \"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 165,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 164,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-2xl font-bold text-gray-900\",\n          children: \"Transfer Money\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"border-b border-gray-200 mb-6\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 9\n      }, this), error && /*#__PURE__*/_jsxDEV(ErrorMessage, {\n        message: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 19\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSubmit,\n        className: \"space-y-5\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"from_account\",\n            className: \"block text-sm font-medium text-gray-700 mb-2\",\n            children: \"From Account\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 174,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            id: \"from_account\",\n            value: formData.from_account,\n            onChange: e => handleInputChange('from_account', e.target.value),\n            disabled: loading,\n            className: `w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-kcb-primary focus:border-kcb-primary bg-white/80 disabled:opacity-50 disabled:cursor-not-allowed ${validationErrors.from_account ? 'border-red-300' : 'border-gray-300'}`,\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"\",\n              children: \"Select source account\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 186,\n              columnNumber: 15\n            }, this), getAccountOptions(formData.to_account)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 177,\n            columnNumber: 13\n          }, this), validationErrors.from_account && /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"mt-1 text-sm text-red-600 flex items-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n              className: \"w-4 h-4 mr-1\",\n              fill: \"currentColor\",\n              viewBox: \"0 0 20 20\",\n              children: /*#__PURE__*/_jsxDEV(\"path\", {\n                fillRule: \"evenodd\",\n                d: \"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z\",\n                clipRule: \"evenodd\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 192,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 191,\n              columnNumber: 17\n            }, this), validationErrors.from_account]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 190,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 173,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"to_account\",\n            className: \"block text-sm font-medium text-gray-700 mb-2\",\n            children: \"To Account\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 201,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            id: \"to_account\",\n            value: formData.to_account,\n            onChange: e => handleInputChange('to_account', e.target.value),\n            disabled: loading,\n            className: `w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-kcb-primary focus:border-kcb-primary bg-white/80 disabled:opacity-50 disabled:cursor-not-allowed ${validationErrors.to_account ? 'border-red-300' : 'border-gray-300'}`,\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"\",\n              children: \"Select destination account\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 213,\n              columnNumber: 15\n            }, this), getAccountOptions(formData.from_account)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 204,\n            columnNumber: 13\n          }, this), validationErrors.to_account && /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"mt-1 text-sm text-red-600 flex items-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n              className: \"w-4 h-4 mr-1\",\n              fill: \"currentColor\",\n              viewBox: \"0 0 20 20\",\n              children: /*#__PURE__*/_jsxDEV(\"path\", {\n                fillRule: \"evenodd\",\n                d: \"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z\",\n                clipRule: \"evenodd\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 219,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 218,\n              columnNumber: 17\n            }, this), validationErrors.to_account]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 217,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 200,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"amount\",\n            className: \"block text-sm font-medium text-gray-700 mb-2\",\n            children: \"Amount\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 228,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"relative\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"number\",\n              id: \"amount\",\n              value: formData.amount || '',\n              onChange: e => handleInputChange('amount', parseFloat(e.target.value) || 0),\n              step: \"0.01\",\n              min: \"0\",\n              disabled: loading,\n              className: `w-full pl-10 pr-3 py-2 border rounded-lg focus:ring-2 focus:ring-kcb-primary focus:border-kcb-primary bg-white/80 disabled:opacity-50 disabled:cursor-not-allowed ${validationErrors.amount ? 'border-red-300' : 'border-gray-300'}`,\n              placeholder: \"0.00\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 232,\n              columnNumber: 15\n            }, this), fromAccount && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"absolute left-3 top-1/2 transform -translate-y-1/2\",\n              children: /*#__PURE__*/_jsxDEV(CurrencyIcon, {\n                currency: fromAccount.currency,\n                size: \"sm\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 247,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 246,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 231,\n            columnNumber: 13\n          }, this), validationErrors.amount && /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"mt-1 text-sm text-red-600 flex items-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n              className: \"w-4 h-4 mr-1\",\n              fill: \"currentColor\",\n              viewBox: \"0 0 20 20\",\n              children: /*#__PURE__*/_jsxDEV(\"path\", {\n                fillRule: \"evenodd\",\n                d: \"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z\",\n                clipRule: \"evenodd\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 254,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 253,\n              columnNumber: 17\n            }, this), validationErrors.amount]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 252,\n            columnNumber: 15\n          }, this), fromAccount && /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"mt-1 text-sm text-gray-500 flex items-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n              className: \"w-4 h-4 mr-1 text-green-500\",\n              fill: \"currentColor\",\n              viewBox: \"0 0 20 20\",\n              children: /*#__PURE__*/_jsxDEV(\"path\", {\n                fillRule: \"evenodd\",\n                d: \"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z\",\n                clipRule: \"evenodd\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 262,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 261,\n              columnNumber: 17\n            }, this), \"Available balance: \", fromAccount.formatted_balance]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 260,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 227,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"transfer_date\",\n            className: \"block text-sm font-medium text-gray-700 mb-2\",\n            children: \"Transfer Date\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 271,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"relative\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"date\",\n              id: \"transfer_date\",\n              value: transferDate,\n              min: new Date().toISOString().slice(0, 10),\n              onChange: e => setTransferDate(e.target.value),\n              disabled: loading,\n              className: \"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-kcb-primary focus:border-kcb-primary bg-white/80 border-gray-300 disabled:opacity-50 disabled:cursor-not-allowed\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 275,\n              columnNumber: 15\n            }, this), isFutureTransfer && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"absolute right-3 top-1/2 transform -translate-y-1/2\",\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"bg-kcb-primary text-white px-2 py-1 rounded-full text-xs font-semibold\",\n                children: \"Scheduled\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 286,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 285,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 274,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"mt-1 text-xs text-gray-500\",\n            children: isFutureTransfer ? 'This transfer will be scheduled for the selected date.' : 'Choose a future date to schedule this transfer, or today for immediate transfer.'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 292,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 270,\n          columnNumber: 11\n        }, this), exchangeRate && convertedAmount && fromAccount && toAccount && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-green-50 border border-green-400 rounded-lg p-4 flex flex-col sm:flex-row items-center justify-between mb-2 shadow-sm\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center space-x-2 flex-1\",\n            children: [/*#__PURE__*/_jsxDEV(CurrencyIcon, {\n              currency: fromAccount.currency,\n              size: \"sm\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 304,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"font-bold text-gray-900 text-lg\",\n              children: formData.amount.toLocaleString()\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 305,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-gray-500 font-medium\",\n              children: fromAccount.currency\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 306,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 303,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center mx-4\",\n            children: /*#__PURE__*/_jsxDEV(\"svg\", {\n              className: \"w-7 h-7 text-kcb-primary\",\n              fill: \"none\",\n              stroke: \"currentColor\",\n              viewBox: \"0 0 24 24\",\n              children: [/*#__PURE__*/_jsxDEV(\"path\", {\n                strokeLinecap: \"round\",\n                strokeLinejoin: \"round\",\n                strokeWidth: 2,\n                d: \"M8 17l4-4 4 4\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 310,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n                strokeLinecap: \"round\",\n                strokeLinejoin: \"round\",\n                strokeWidth: 2,\n                d: \"M12 21V3\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 311,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 309,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 308,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center space-x-2 flex-1 justify-end\",\n            children: [/*#__PURE__*/_jsxDEV(CurrencyIcon, {\n              currency: toAccount.currency,\n              size: \"sm\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 315,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"font-bold text-gray-900 text-lg\",\n              children: convertedAmount.toLocaleString()\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 316,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-gray-500 font-medium\",\n              children: toAccount.currency\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 317,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 314,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 302,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"note\",\n            className: \"block text-sm font-medium text-gray-700 mb-2\",\n            children: \"Note (Optional)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 324,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n            id: \"note\",\n            value: formData.note,\n            onChange: e => handleInputChange('note', e.target.value),\n            rows: 3,\n            disabled: loading,\n            className: \"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-kcb-primary focus:border-kcb-primary bg-white/80 disabled:opacity-50 disabled:cursor-not-allowed\",\n            placeholder: \"Add a note about this transfer...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 327,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 323,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center justify-end space-x-3 pt-4\",\n          children: [onCancel && /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            onClick: onCancel,\n            disabled: loading,\n            className: \"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-kcb-primary disabled:opacity-50 disabled:cursor-not-allowed\",\n            children: \"Cancel\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 341,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            disabled: loading || Object.keys(validationErrors).length > 0,\n            className: `w-full h-12 text-sm font-semibold text-white bg-kcb-primary border border-transparent rounded-lg shadow hover:bg-kcb-dark focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-kcb-primary disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2 transition ${loading ? 'animate-pulse' : ''}`,\n            children: loading ? /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(ButtonSpinner, {\n                size: \"sm\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 357,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Processing\\u2026\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 358,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true) : /*#__PURE__*/_jsxDEV(\"span\", {\n              children: isFutureTransfer ? 'Schedule Transfer' : 'Transfer Money'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 361,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 350,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 339,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 161,\n    columnNumber: 5\n  }, this);\n};\n_s(TransferForm, \"fAX/HUXs46riSq30R4mt1BK/zkY=\");\n_c = TransferForm;\nexport default TransferForm;\nvar _c;\n$RefreshReg$(_c, \"TransferForm\");","map":{"version":3,"names":["React","useState","useEffect","CurrencyIcon","ButtonSpinner","ErrorMessage","jsxDEV","_jsxDEV","Fragment","_Fragment","TransferForm","accounts","onSubmit","loading","error","initialFromAccount","onCancel","_s","formData","setFormData","from_account","to_account","amount","note","exchangeRate","setExchangeRate","convertedAmount","setConvertedAmount","validationErrors","setValidationErrors","transferDate","setTransferDate","today","Date","toISOString","slice","isFutureTransfer","setIsFutureTransfer","prev","name","fromAccount","find","acc","toAccount","currency","_rates$fromAccount$cu","rates","KES","USD","NGN","rate","errors","balance","formatted_balance","validateForm","Object","keys","length","handleSubmit","e","preventDefault","noteWithDate","includes","handleInputChange","field","value","getAccountOptions","excludeAccount","filter","account","map","children","fileName","_jsxFileName","lineNumber","columnNumber","className","fill","stroke","viewBox","strokeLinecap","strokeLinejoin","strokeWidth","d","message","htmlFor","id","onChange","target","disabled","fillRule","clipRule","type","parseFloat","step","min","placeholder","size","toLocaleString","rows","onClick","_c","$RefreshReg$"],"sources":["/home/damien/Desktop/Treasury Movement Simulator/frontend/src/components/TransferForm.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Account, TransferRequest } from '../types';\nimport CurrencyIcon from './CurrencyIcon';\nimport { ButtonSpinner } from './LoadingSpinner';\nimport ErrorMessage from './ErrorMessage';\n\ninterface TransferFormProps {\n  accounts: Account[];\n  onSubmit: (data: TransferRequest) => Promise<void>;\n  loading?: boolean;\n  error?: string | null;\n  initialFromAccount?: Account | null;\n  onCancel?: () => void;\n}\n\nconst TransferForm: React.FC<TransferFormProps> = ({\n  accounts,\n  onSubmit,\n  loading = false,\n  error = null,\n  initialFromAccount = null,\n  onCancel\n}) => {\n  const [formData, setFormData] = useState<TransferRequest>({\n    from_account: '',\n    to_account: '',\n    amount: 0,\n    note: ''\n  });\n\n  const [exchangeRate, setExchangeRate] = useState<number | null>(null);\n  const [convertedAmount, setConvertedAmount] = useState<number | null>(null);\n  const [validationErrors, setValidationErrors] = useState<Record<string, string>>({});\n  const [transferDate, setTransferDate] = useState(() => {\n    const today = new Date();\n    return today.toISOString().slice(0, 10);\n  });\n  const [isFutureTransfer, setIsFutureTransfer] = useState(false);\n\n  // Set initial from account if provided\n  useEffect(() => {\n    if (initialFromAccount) {\n      setFormData(prev => ({ ...prev, from_account: initialFromAccount.name }));\n    }\n  }, [initialFromAccount]);\n\n  // Check if transfer is scheduled for future\n  useEffect(() => {\n    const today = new Date().toISOString().slice(0, 10);\n    setIsFutureTransfer(transferDate > today);\n  }, [transferDate]);\n\n  // Calculate exchange rate and converted amount when accounts change\n  useEffect(() => {\n    if (formData.from_account && formData.to_account && formData.amount > 0) {\n      const fromAccount = accounts.find(acc => acc.name === formData.from_account);\n      const toAccount = accounts.find(acc => acc.name === formData.to_account);\n      \n      if (fromAccount && toAccount && fromAccount.currency !== toAccount.currency) {\n        // Static exchange rates (in real app, these would come from API)\n        const rates: Record<string, Record<string, number>> = {\n          KES: { USD: 0.0067, NGN: 0.186 },\n          USD: { KES: 149.25, NGN: 27.75 },\n          NGN: { KES: 5.38, USD: 0.036 }\n        };\n        \n        const rate = rates[fromAccount.currency]?.[toAccount.currency];\n        if (rate) {\n          setExchangeRate(rate);\n          setConvertedAmount(formData.amount * rate);\n        } else {\n          setExchangeRate(null);\n          setConvertedAmount(null);\n        }\n      } else {\n        setExchangeRate(null);\n        setConvertedAmount(null);\n      }\n    }\n  }, [formData.from_account, formData.to_account, formData.amount, accounts]);\n\n  // Real-time validation\n  useEffect(() => {\n    const errors: Record<string, string> = {};\n    \n    if (formData.from_account && formData.to_account && formData.from_account === formData.to_account) {\n      errors.to_account = 'Source and destination accounts must be different';\n    }\n    \n    if (formData.amount > 0) {\n      const fromAccount = accounts.find(acc => acc.name === formData.from_account);\n      if (fromAccount && formData.amount > fromAccount.balance) {\n        errors.amount = `Insufficient balance. Available: ${fromAccount.formatted_balance}`;\n      }\n    }\n    \n    setValidationErrors(prev => ({ ...prev, ...errors }));\n  }, [formData, accounts]);\n\n  const validateForm = (): boolean => {\n    const errors: Record<string, string> = {};\n    \n    if (!formData.from_account) {\n      errors.from_account = 'Please select a source account';\n    }\n    \n    if (!formData.to_account) {\n      errors.to_account = 'Please select a destination account';\n    }\n    \n    if (formData.from_account === formData.to_account) {\n      errors.to_account = 'Source and destination accounts must be different';\n    }\n    \n    if (!formData.amount || formData.amount <= 0) {\n      errors.amount = 'Please enter a valid amount';\n    } else {\n      const fromAccount = accounts.find(acc => acc.name === formData.from_account);\n      if (fromAccount && formData.amount > fromAccount.balance) {\n        errors.amount = `Insufficient balance. Available: ${fromAccount.formatted_balance}`;\n      }\n    }\n    \n    setValidationErrors(errors);\n    return Object.keys(errors).length === 0;\n  };\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    if (validateForm()) {\n      let noteWithDate = formData.note || '';\n      if (!noteWithDate.includes('transfer_date:')) {\n        noteWithDate = (noteWithDate ? noteWithDate + ' ' : '') + `transfer_date:${transferDate}`;\n      }\n      await onSubmit({ ...formData, note: noteWithDate });\n    }\n  };\n\n  const handleInputChange = (field: keyof TransferRequest, value: string | number) => {\n    setFormData(prev => ({ ...prev, [field]: value }));\n    // Clear validation error for this field\n    if (validationErrors[field]) {\n      setValidationErrors(prev => ({ ...prev, [field]: '' }));\n    }\n  };\n\n  const getAccountOptions = (excludeAccount?: string) => {\n    return accounts\n      .filter(account => account.name !== excludeAccount)\n      .map(account => (\n        <option key={account.name} value={account.name}>\n          {account.name} ({account.currency}) - {account.formatted_balance}\n        </option>\n      ));\n  };\n\n  const fromAccount = accounts.find(acc => acc.name === formData.from_account);\n  const toAccount = accounts.find(acc => acc.name === formData.to_account);\n\n  return (\n    <div className=\"max-w-lg mx-auto mt-8\">\n      <div className=\"bg-white/90 rounded-2xl shadow-lg p-8\">\n        <div className=\"flex items-center mb-6\">\n          <svg className=\"w-8 h-8 text-kcb-primary mr-3\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1\" />\n          </svg>\n          <h2 className=\"text-2xl font-bold text-gray-900\">Transfer Money</h2>\n        </div>\n        <div className=\"border-b border-gray-200 mb-6\" />\n        {error && <ErrorMessage message={error} />}\n        <form onSubmit={handleSubmit} className=\"space-y-5\">\n          {/* From Account */}\n          <div>\n            <label htmlFor=\"from_account\" className=\"block text-sm font-medium text-gray-700 mb-2\">\n              From Account\n            </label>\n            <select\n              id=\"from_account\"\n              value={formData.from_account}\n              onChange={(e) => handleInputChange('from_account', e.target.value)}\n              disabled={loading}\n              className={`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-kcb-primary focus:border-kcb-primary bg-white/80 disabled:opacity-50 disabled:cursor-not-allowed ${\n                validationErrors.from_account ? 'border-red-300' : 'border-gray-300'\n              }`}\n            >\n              <option value=\"\">Select source account</option>\n              {getAccountOptions(formData.to_account)}\n            </select>\n            {validationErrors.from_account && (\n              <p className=\"mt-1 text-sm text-red-600 flex items-center\">\n                <svg className=\"w-4 h-4 mr-1\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n                  <path fillRule=\"evenodd\" d=\"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z\" clipRule=\"evenodd\" />\n                </svg>\n                {validationErrors.from_account}\n              </p>\n            )}\n          </div>\n\n          {/* To Account */}\n          <div>\n            <label htmlFor=\"to_account\" className=\"block text-sm font-medium text-gray-700 mb-2\">\n              To Account\n            </label>\n            <select\n              id=\"to_account\"\n              value={formData.to_account}\n              onChange={(e) => handleInputChange('to_account', e.target.value)}\n              disabled={loading}\n              className={`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-kcb-primary focus:border-kcb-primary bg-white/80 disabled:opacity-50 disabled:cursor-not-allowed ${\n                validationErrors.to_account ? 'border-red-300' : 'border-gray-300'\n              }`}\n            >\n              <option value=\"\">Select destination account</option>\n              {getAccountOptions(formData.from_account)}\n            </select>\n            {validationErrors.to_account && (\n              <p className=\"mt-1 text-sm text-red-600 flex items-center\">\n                <svg className=\"w-4 h-4 mr-1\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n                  <path fillRule=\"evenodd\" d=\"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z\" clipRule=\"evenodd\" />\n                </svg>\n                {validationErrors.to_account}\n              </p>\n            )}\n          </div>\n\n          {/* Amount */}\n          <div>\n            <label htmlFor=\"amount\" className=\"block text-sm font-medium text-gray-700 mb-2\">\n              Amount\n            </label>\n            <div className=\"relative\">\n              <input\n                type=\"number\"\n                id=\"amount\"\n                value={formData.amount || ''}\n                onChange={(e) => handleInputChange('amount', parseFloat(e.target.value) || 0)}\n                step=\"0.01\"\n                min=\"0\"\n                disabled={loading}\n                className={`w-full pl-10 pr-3 py-2 border rounded-lg focus:ring-2 focus:ring-kcb-primary focus:border-kcb-primary bg-white/80 disabled:opacity-50 disabled:cursor-not-allowed ${\n                  validationErrors.amount ? 'border-red-300' : 'border-gray-300'\n                }`}\n                placeholder=\"0.00\"\n              />\n              {fromAccount && (\n                <div className=\"absolute left-3 top-1/2 transform -translate-y-1/2\">\n                  <CurrencyIcon currency={fromAccount.currency} size=\"sm\" />\n                </div>\n              )}\n            </div>\n            {validationErrors.amount && (\n              <p className=\"mt-1 text-sm text-red-600 flex items-center\">\n                <svg className=\"w-4 h-4 mr-1\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n                  <path fillRule=\"evenodd\" d=\"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z\" clipRule=\"evenodd\" />\n                </svg>\n                {validationErrors.amount}\n              </p>\n            )}\n            {fromAccount && (\n              <p className=\"mt-1 text-sm text-gray-500 flex items-center\">\n                <svg className=\"w-4 h-4 mr-1 text-green-500\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n                  <path fillRule=\"evenodd\" d=\"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z\" clipRule=\"evenodd\" />\n                </svg>\n                Available balance: {fromAccount.formatted_balance}\n              </p>\n            )}\n          </div>\n\n          {/* Date Picker */}\n          <div>\n            <label htmlFor=\"transfer_date\" className=\"block text-sm font-medium text-gray-700 mb-2\">\n              Transfer Date\n            </label>\n            <div className=\"relative\">\n              <input\n                type=\"date\"\n                id=\"transfer_date\"\n                value={transferDate}\n                min={new Date().toISOString().slice(0, 10)}\n                onChange={e => setTransferDate(e.target.value)}\n                disabled={loading}\n                className=\"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-kcb-primary focus:border-kcb-primary bg-white/80 border-gray-300 disabled:opacity-50 disabled:cursor-not-allowed\"\n              />\n              {isFutureTransfer && (\n                <div className=\"absolute right-3 top-1/2 transform -translate-y-1/2\">\n                  <span className=\"bg-kcb-primary text-white px-2 py-1 rounded-full text-xs font-semibold\">\n                    Scheduled\n                  </span>\n                </div>\n              )}\n            </div>\n            <p className=\"mt-1 text-xs text-gray-500\">\n              {isFutureTransfer \n                ? 'This transfer will be scheduled for the selected date.'\n                : 'Choose a future date to schedule this transfer, or today for immediate transfer.'\n              }\n            </p>\n          </div>\n\n          {/* FX Card */}\n          {exchangeRate && convertedAmount && fromAccount && toAccount && (\n            <div className=\"bg-green-50 border border-green-400 rounded-lg p-4 flex flex-col sm:flex-row items-center justify-between mb-2 shadow-sm\">\n              <div className=\"flex items-center space-x-2 flex-1\">\n                <CurrencyIcon currency={fromAccount.currency} size=\"sm\" />\n                <span className=\"font-bold text-gray-900 text-lg\">{formData.amount.toLocaleString()}</span>\n                <span className=\"text-gray-500 font-medium\">{fromAccount.currency}</span>\n              </div>\n              <div className=\"flex items-center mx-4\">\n                <svg className=\"w-7 h-7 text-kcb-primary\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M8 17l4-4 4 4\" />\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 21V3\" />\n                </svg>\n              </div>\n              <div className=\"flex items-center space-x-2 flex-1 justify-end\">\n                <CurrencyIcon currency={toAccount.currency} size=\"sm\" />\n                <span className=\"font-bold text-gray-900 text-lg\">{convertedAmount.toLocaleString()}</span>\n                <span className=\"text-gray-500 font-medium\">{toAccount.currency}</span>\n              </div>\n            </div>\n          )}\n\n          {/* Note */}\n          <div>\n            <label htmlFor=\"note\" className=\"block text-sm font-medium text-gray-700 mb-2\">\n              Note (Optional)\n            </label>\n            <textarea\n              id=\"note\"\n              value={formData.note}\n              onChange={(e) => handleInputChange('note', e.target.value)}\n              rows={3}\n              disabled={loading}\n              className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-kcb-primary focus:border-kcb-primary bg-white/80 disabled:opacity-50 disabled:cursor-not-allowed\"\n              placeholder=\"Add a note about this transfer...\"\n            />\n          </div>\n\n          {/* Action Buttons */}\n          <div className=\"flex items-center justify-end space-x-3 pt-4\">\n            {onCancel && (\n              <button\n                type=\"button\"\n                onClick={onCancel}\n                disabled={loading}\n                className=\"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-kcb-primary disabled:opacity-50 disabled:cursor-not-allowed\"\n              >\n                Cancel\n              </button>\n            )}\n            <button\n              type=\"submit\"\n              disabled={loading || Object.keys(validationErrors).length > 0}\n              className={`w-full h-12 text-sm font-semibold text-white bg-kcb-primary border border-transparent rounded-lg shadow hover:bg-kcb-dark focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-kcb-primary disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2 transition ${loading ? 'animate-pulse' : ''}`}\n            >\n              {loading ? (\n                <>\n                  <ButtonSpinner size=\"sm\" />\n                  <span>Processing…</span>\n                </>\n              ) : (\n                <span>{isFutureTransfer ? 'Schedule Transfer' : 'Transfer Money'}</span>\n              )}\n            </button>\n          </div>\n        </form>\n      </div>\n    </div>\n  );\n};\n\nexport default TransferForm;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}